<!DOCTYPE html>
<html>
<body>

<h2>Post text</h2>

<script>
  function post() {
    const serviceToken = vino.olv_getServiceToken();
    const paramPack = vino.olv_getParameterPack();
    const formData = new FormData();

    //to add variables to the form, add it like this
    formData.append("body", "Hello TVii")
    formData.append("topic_tag", "Topic Tag Test")
    formData.append("search_key", "TemplateShow")
    formData.append("app_data", "")
    formData.append("community_id", "0")
    formData.append("feeling_id", "1")
    formData.append("is_autopost", "1")
    formData.append("is_spoiler", "0")
    formData.append("language_id", "1")
    formData.append("is_app_jumpable", "0")
    //you can do this as many times as you want

    const request = new XMLHttpRequest();

    request.open('POST', 'https://olvapi.nonamegiven.xyz/v1/posts')

    //adding headers
    request.setRequestHeader('x-nintendo-servicetoken', serviceToken)
    request.setRequestHeader('x-nintendo-parampack', paramPack)
    request.setRequestHeader('Content-Type', 'multipart/form-data')

    //sending form data
    request.send(formData)

    //when the state of the request changes
    request.onreadystatechange = () => {
      if (request.readyState === 4) {
        console.log("XHR Request Finished!")


        //whenever your xhr request is complete do whatever here ^^
      }
    }
  }
</script>

  <button onclick="post();">Post</button>

</body>
</html>